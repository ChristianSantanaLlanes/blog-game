---
interface Post {
    title: string;
    slug: string;
    type: string;
}

interface Props {
    posts: Post[];
}

const { posts } = Astro.props;
---

<div class="widget trending-widget">
    <h3 class="widget-title">En Alta <span class="accent"></span></h3>
    <ul class="trending-list">
        {posts.map((post, index) => (
            <li class="trending-item">
                <span class="rank">{index + 1}</span>
                <div class="info">
                    <a href={`/${post.type}/${post.slug}`} class="title">{post.title}</a>
                </div>
            </li>
        ))}
    </ul>
</div>

<style>
    .widget {
        margin-bottom: 3rem;
    }

    .widget-title {
        font-size: 1.2rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #333;
        display: flex;
        align-items: center;
    }
    
    .widget-title .accent {
        height: 2px;
        width: 30px;
        background: var(--color-primary);
        display: inline-block;
        margin-left: 10px;
    }

    .trending-list {
        list-style: none;
        padding: 0;
    }

    .trending-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 1.5rem;
        counter-increment: list-item;
    }

    .rank {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        font-weight: 700;
        color: #333;
        line-height: 0.8;
        margin-right: 1rem;
        -webkit-text-stroke: 1px #555;
    }
    
    .trending-item:nth-child(1) .rank { color: var(--color-primary); -webkit-text-stroke: 0; }
    .trending-item:nth-child(2) .rank { color: var(--color-secondary); -webkit-text-stroke: 0; }
    .trending-item:nth-child(3) .rank { color: var(--color-accent); -webkit-text-stroke: 0; }

    .title {
        color: #e0e0e0;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        line-height: 1.4;
        transition: color 0.2s;
    }

    .title:hover {
        color: var(--color-primary);
    }
</style>
